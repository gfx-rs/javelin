---
source: tests/snapshots.rs
expression: dis
---
; SPIR-V
; Version: 1.0
; Generator: rspirv
; Bound: 116
OpCapability Shader
%1 = OpExtInstImport "GLSL.std.450"
OpMemoryModel Logical GLSL450
OpEntryPoint Vertex %37 "vs_main" %30 %33 %35
OpEntryPoint Fragment %108 "fs_main" %101 %104 %107
OpExecutionMode %108 OriginUpperLeft
OpSource GLSL 450
OpName %11 "Data"
OpMemberName %11 0 "proj_inv"
OpMemberName %11 1 "view"
OpName %10 "r_data"
OpName %15 "r_texture"
OpName %18 "r_sampler"
OpName %21 "tmp1"
OpName %23 "tmp2"
OpName %24 "out"
OpName %25 "VertexOutput"
OpName %30 "vertex_index"
OpName %33 "position"
OpName %35 "uv"
OpName %37 "vs_main"
OpName %37 "vs_main"
OpName %101 "position"
OpName %104 "uv"
OpName %108 "fs_main"
OpName %108 "fs_main"
OpDecorate %11 Block
OpMemberDecorate %11 0 Offset 0
OpMemberDecorate %11 0 ColMajor
OpMemberDecorate %11 0 MatrixStride 16
OpMemberDecorate %11 1 Offset 64
OpMemberDecorate %11 1 ColMajor
OpMemberDecorate %11 1 MatrixStride 16
OpDecorate %10 DescriptorSet 0
OpDecorate %10 Binding 0
OpDecorate %15 DescriptorSet 0
OpDecorate %15 Binding 1
OpDecorate %18 DescriptorSet 0
OpDecorate %18 Binding 2
OpDecorate %30 BuiltIn VertexIndex
OpDecorate %33 BuiltIn Position
OpDecorate %35 Location 0
OpDecorate %101 BuiltIn FragCoord
OpDecorate %104 Location 0
OpDecorate %107 Location 0
%2 = OpTypeVoid
%4 = OpTypeInt 32 1
%3 = OpConstant  %4  2
%5 = OpConstant  %4  1
%7 = OpTypeFloat 32
%6 = OpConstant  %7  4.0
%8 = OpConstant  %7  1.0
%9 = OpConstant  %7  0.0
%13 = OpTypeVector %7 4
%12 = OpTypeMatrix %13 4
%11 = OpTypeStruct %12 %12
%14 = OpTypePointer Uniform %11
%10 = OpVariable  %14  Uniform
%16 = OpTypeImage %7 Cube 0 0 0 1 Unknown
%17 = OpTypePointer UniformConstant %16
%15 = OpVariable  %17  UniformConstant
%19 = OpTypeSampler
%20 = OpTypePointer UniformConstant %19
%18 = OpVariable  %20  UniformConstant
%22 = OpTypePointer Function %4
%26 = OpTypeVector %7 3
%25 = OpTypeStruct %13 %26
%27 = OpTypePointer Function %25
%29 = OpTypeInt 32 0
%31 = OpTypePointer Input %29
%30 = OpVariable  %31  Input
%34 = OpTypePointer Output %13
%33 = OpVariable  %34  Output
%36 = OpTypePointer Output %26
%35 = OpVariable  %36  Output
%38 = OpTypeFunction %2
%53 = OpTypePointer Uniform %12
%54 = OpConstant  %4  1
%62 = OpConstant  %4  1
%70 = OpConstant  %4  1
%78 = OpTypeMatrix %26 3
%81 = OpConstant  %4  0
%85 = OpTypePointer Function %26
%91 = OpConstant  %4  1
%93 = OpTypePointer Function %13
%94 = OpConstant  %4  0
%102 = OpTypePointer Input %13
%101 = OpVariable  %102  Input
%105 = OpTypePointer Input %26
%104 = OpVariable  %105  Input
%107 = OpVariable  %34  Output
%113 = OpTypeSampledImage %16
%37 = OpFunction  %2  None %38
%28 = OpLabel
%21 = OpVariable  %22  Function
%23 = OpVariable  %22  Function
%24 = OpVariable  %27  Function
%32 = OpLoad  %29  %30
OpBranch %39
%39 = OpLabel
%40 = OpBitcast  %4  %32
%41 = OpSDiv  %4  %40 %3
OpStore %21 %41
%42 = OpBitcast  %4  %32
%43 = OpBitwiseAnd  %4  %42 %5
OpStore %23 %43
%44 = OpLoad  %4  %21
%45 = OpConvertSToF  %7  %44
%46 = OpFMul  %7  %45 %6
%47 = OpFSub  %7  %46 %8
%48 = OpLoad  %4  %23
%49 = OpConvertSToF  %7  %48
%50 = OpFMul  %7  %49 %6
%51 = OpFSub  %7  %50 %8
%52 = OpCompositeConstruct  %13  %47 %51 %9 %8
%55 = OpAccessChain  %53  %10 %54
%56 = OpLoad  %12  %55
%57 = OpCompositeExtract  %13  %56 0
%58 = OpCompositeExtract  %7  %57 0
%59 = OpCompositeExtract  %7  %57 1
%60 = OpCompositeExtract  %7  %57 2
%61 = OpCompositeConstruct  %26  %58 %59 %60
%63 = OpAccessChain  %53  %10 %62
%64 = OpLoad  %12  %63
%65 = OpCompositeExtract  %13  %64 1
%66 = OpCompositeExtract  %7  %65 0
%67 = OpCompositeExtract  %7  %65 1
%68 = OpCompositeExtract  %7  %65 2
%69 = OpCompositeConstruct  %26  %66 %67 %68
%71 = OpAccessChain  %53  %10 %70
%72 = OpLoad  %12  %71
%73 = OpCompositeExtract  %13  %72 2
%74 = OpCompositeExtract  %7  %73 0
%75 = OpCompositeExtract  %7  %73 1
%76 = OpCompositeExtract  %7  %73 2
%77 = OpCompositeConstruct  %26  %74 %75 %76
%79 = OpCompositeConstruct  %78  %61 %69 %77
%80 = OpTranspose  %78  %79
%82 = OpAccessChain  %53  %10 %81
%83 = OpLoad  %12  %82
%84 = OpMatrixTimesVector  %13  %83 %52
%86 = OpCompositeExtract  %7  %84 0
%87 = OpCompositeExtract  %7  %84 1
%88 = OpCompositeExtract  %7  %84 2
%89 = OpCompositeConstruct  %26  %86 %87 %88
%90 = OpMatrixTimesVector  %26  %80 %89
%92 = OpAccessChain  %85  %24 %91
OpStore %92 %90
%95 = OpAccessChain  %93  %24 %94
OpStore %95 %52
%96 = OpLoad  %25  %24
%97 = OpCompositeExtract  %13  %96 0
OpStore %33 %97
%98 = OpCompositeExtract  %26  %96 1
OpStore %35 %98
OpReturn
OpFunctionEnd
%108 = OpFunction  %2  None %38
%99 = OpLabel
%103 = OpLoad  %13  %101
%106 = OpLoad  %26  %104
%100 = OpCompositeConstruct  %25  %103 %106
%109 = OpLoad  %16  %15
%110 = OpLoad  %19  %18
OpBranch %111
%111 = OpLabel
%112 = OpCompositeExtract  %26  %100 1
%114 = OpSampledImage  %113  %109 %110
%115 = OpImageSampleImplicitLod  %13  %114 %112
OpStore %107 %115
OpReturn
OpFunctionEnd
