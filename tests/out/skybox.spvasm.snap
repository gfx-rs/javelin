---
source: tests/snapshots.rs
expression: dis
---
; SPIR-V
; Version: 1.0
; Generator: rspirv
; Bound: 113
OpCapability Shader
%1 = OpExtInstImport "GLSL.std.450"
OpMemoryModel Logical GLSL450
OpEntryPoint Vertex %39 "vs_main" %32 %35 %37
OpEntryPoint Fragment %106 "fs_main" %102 %105
OpExecutionMode %106 OriginUpperLeft
OpSource GLSL 450
OpName %11 "Data"
OpMemberName %11 0 "proj_inv"
OpMemberName %11 1 "view"
OpName %10 "r_data"
OpName %15 "r_texture"
OpName %18 "r_sampler"
OpName %21 "tmp1"
OpName %23 "tmp2"
OpName %24 "unprojected"
OpName %26 "out"
OpName %27 "VertexOutput"
OpName %32 "vertex_index"
OpName %35 "position"
OpName %37 "uv"
OpName %39 "vs_main"
OpName %39 "vs_main"
OpName %102 "uv"
OpName %106 "fs_main"
OpName %106 "fs_main"
OpDecorate %11 Block
OpMemberDecorate %11 0 Offset 0
OpMemberDecorate %11 0 ColMajor
OpMemberDecorate %11 0 MatrixStride 16
OpMemberDecorate %11 1 Offset 64
OpMemberDecorate %11 1 ColMajor
OpMemberDecorate %11 1 MatrixStride 16
OpDecorate %10 DescriptorSet 0
OpDecorate %10 Binding 0
OpDecorate %15 DescriptorSet 0
OpDecorate %15 Binding 1
OpDecorate %18 DescriptorSet 0
OpDecorate %18 Binding 2
OpDecorate %32 BuiltIn VertexIndex
OpDecorate %35 BuiltIn Position
OpDecorate %37 Location 0
OpDecorate %102 Location 0
OpDecorate %105 Location 0
%2 = OpTypeVoid
%4 = OpTypeInt 32 1
%3 = OpConstant  %4  2
%5 = OpConstant  %4  1
%7 = OpTypeFloat 32
%6 = OpConstant  %7  4.0
%8 = OpConstant  %7  1.0
%9 = OpConstant  %7  0.0
%13 = OpTypeVector %7 4
%12 = OpTypeMatrix %13 4
%11 = OpTypeStruct %12 %12
%14 = OpTypePointer Uniform %11
%10 = OpVariable  %14  Uniform
%16 = OpTypeImage %7 Cube 0 0 0 1 Unknown
%17 = OpTypePointer UniformConstant %16
%15 = OpVariable  %17  UniformConstant
%19 = OpTypeSampler
%20 = OpTypePointer UniformConstant %19
%18 = OpVariable  %20  UniformConstant
%22 = OpTypePointer Function %4
%25 = OpTypePointer Function %13
%28 = OpTypeVector %7 3
%27 = OpTypeStruct %13 %28
%29 = OpTypePointer Function %27
%31 = OpTypeInt 32 0
%33 = OpTypePointer Input %31
%32 = OpVariable  %33  Input
%36 = OpTypePointer Output %13
%35 = OpVariable  %36  Output
%38 = OpTypePointer Output %28
%37 = OpVariable  %38  Output
%40 = OpTypeFunction %2
%55 = OpTypePointer Uniform %12
%56 = OpConstant  %4  1
%64 = OpConstant  %4  1
%72 = OpConstant  %4  1
%80 = OpTypeMatrix %28 3
%83 = OpConstant  %4  0
%87 = OpTypePointer Function %28
%94 = OpConstant  %4  1
%96 = OpConstant  %4  0
%103 = OpTypePointer Input %28
%102 = OpVariable  %103  Input
%105 = OpVariable  %36  Output
%110 = OpTypeSampledImage %16
%39 = OpFunction  %2  None %40
%30 = OpLabel
%23 = OpVariable  %22  Function
%26 = OpVariable  %29  Function
%21 = OpVariable  %22  Function
%24 = OpVariable  %25  Function
%34 = OpLoad  %31  %32
OpBranch %41
%41 = OpLabel
%42 = OpBitcast  %4  %34
%43 = OpSDiv  %4  %42 %3
OpStore %21 %43
%44 = OpBitcast  %4  %34
%45 = OpBitwiseAnd  %4  %44 %5
OpStore %23 %45
%46 = OpLoad  %4  %21
%47 = OpConvertSToF  %7  %46
%48 = OpFMul  %7  %47 %6
%49 = OpFSub  %7  %48 %8
%50 = OpLoad  %4  %23
%51 = OpConvertSToF  %7  %50
%52 = OpFMul  %7  %51 %6
%53 = OpFSub  %7  %52 %8
%54 = OpCompositeConstruct  %13  %49 %53 %9 %8
%57 = OpAccessChain  %55  %10 %56
%58 = OpLoad  %12  %57
%59 = OpCompositeExtract  %13  %58 0
%60 = OpCompositeExtract  %7  %59 0
%61 = OpCompositeExtract  %7  %59 1
%62 = OpCompositeExtract  %7  %59 2
%63 = OpCompositeConstruct  %28  %60 %61 %62
%65 = OpAccessChain  %55  %10 %64
%66 = OpLoad  %12  %65
%67 = OpCompositeExtract  %13  %66 1
%68 = OpCompositeExtract  %7  %67 0
%69 = OpCompositeExtract  %7  %67 1
%70 = OpCompositeExtract  %7  %67 2
%71 = OpCompositeConstruct  %28  %68 %69 %70
%73 = OpAccessChain  %55  %10 %72
%74 = OpLoad  %12  %73
%75 = OpCompositeExtract  %13  %74 2
%76 = OpCompositeExtract  %7  %75 0
%77 = OpCompositeExtract  %7  %75 1
%78 = OpCompositeExtract  %7  %75 2
%79 = OpCompositeConstruct  %28  %76 %77 %78
%81 = OpCompositeConstruct  %80  %63 %71 %79
%82 = OpTranspose  %80  %81
%84 = OpAccessChain  %55  %10 %83
%85 = OpLoad  %12  %84
%86 = OpMatrixTimesVector  %13  %85 %54
OpStore %24 %86
%88 = OpLoad  %13  %24
%89 = OpCompositeExtract  %7  %88 0
%90 = OpCompositeExtract  %7  %88 1
%91 = OpCompositeExtract  %7  %88 2
%92 = OpCompositeConstruct  %28  %89 %90 %91
%93 = OpMatrixTimesVector  %28  %82 %92
%95 = OpAccessChain  %87  %26 %94
OpStore %95 %93
%97 = OpAccessChain  %25  %26 %96
OpStore %97 %54
%98 = OpLoad  %27  %26
%99 = OpCompositeExtract  %13  %98 0
OpStore %35 %99
%100 = OpCompositeExtract  %28  %98 1
OpStore %37 %100
OpReturn
OpFunctionEnd
%106 = OpFunction  %2  None %40
%101 = OpLabel
%104 = OpLoad  %28  %102
%107 = OpLoad  %16  %15
%108 = OpLoad  %19  %18
OpBranch %109
%109 = OpLabel
%111 = OpSampledImage  %110  %107 %108
%112 = OpImageSampleImplicitLod  %13  %111 %104
OpStore %105 %112
OpReturn
OpFunctionEnd
