; SPIR-V
; Version: 1.1
; Generator: rspirv
; Bound: 55
OpCapability Image1D
OpCapability Shader
OpCapability Sampled1D
OpExtension "SPV_KHR_storage_buffer_storage_class"
%1 = OpExtInstImport "GLSL.std.450"
OpMemoryModel Logical GLSL450
OpEntryPoint Vertex %27 "foo" %22 %25
OpSource GLSL 450
OpName %15 "Bar"
OpMemberName %15 0 "matrix"
OpMemberName %15 1 "data"
OpName %17 "bar"
OpName %19 "array"
OpName %22 "vi"
OpName %27 "foo"
OpDecorate %14 ArrayStride 4
OpDecorate %15 Block
OpMemberDecorate %15 0 Offset 0
OpMemberDecorate %15 0 ColMajor
OpMemberDecorate %15 0 MatrixStride 16
OpMemberDecorate %15 1 Offset 64
OpDecorate %16 ArrayStride 4
OpDecorate %17 DescriptorSet 0
OpDecorate %17 Binding 0
OpDecorate %22 BuiltIn VertexIndex
OpDecorate %25 BuiltIn Position
%2 = OpTypeVoid
%4 = OpTypeInt 32 0
%3 = OpConstant  %4  3
%5 = OpConstant  %4  1
%7 = OpTypeInt 32 1
%6 = OpConstant  %7  5
%8 = OpConstant  %7  3
%9 = OpConstant  %7  4
%10 = OpConstant  %7  42
%13 = OpTypeFloat 32
%12 = OpTypeVector %13 4
%11 = OpTypeMatrix %12 4
%14 = OpTypeRuntimeArray %7
%15 = OpTypeStruct %11 %14
%16 = OpTypeArray %7 %6
%18 = OpTypePointer StorageBuffer %15
%17 = OpVariable  %18  StorageBuffer
%20 = OpTypePointer Function %16
%23 = OpTypePointer Input %4
%22 = OpVariable  %23  Input
%26 = OpTypePointer Output %12
%25 = OpVariable  %26  Output
%28 = OpTypeFunction %2
%30 = OpTypePointer StorageBuffer %11
%31 = OpTypePointer StorageBuffer %12
%32 = OpConstant  %4  0
%36 = OpTypePointer StorageBuffer %14
%39 = OpTypePointer StorageBuffer %7
%45 = OpTypePointer Function %7
%46 = OpConstant  %4  4
%52 = OpTypeVector %7 4
%27 = OpFunction  %2  None %28
%21 = OpLabel
%19 = OpVariable  %20  Function
%24 = OpLoad  %4  %22
OpBranch %29
%29 = OpLabel
%33 = OpAccessChain  %31  %17 %32 %3
%34 = OpLoad  %12  %33
%35 = OpCompositeExtract  %13  %34 0
%37 = OpArrayLength  %4  %17 1
%38 = OpISub  %4  %37 %5
%40 = OpAccessChain  %39  %17 %5 %38
%41 = OpLoad  %7  %40
%42 = OpConvertFToS  %7  %35
%43 = OpCompositeConstruct  %16  %41 %42 %8 %9 %6
OpStore %19 %43
%44 = OpIAdd  %4  %24 %5
%47 = OpExtInst  %4  %1 UMax %44 %46
%48 = OpAccessChain  %45  %19 %47
OpStore %48 %10
%49 = OpExtInst  %4  %1 UMax %24 %46
%50 = OpAccessChain  %45  %19 %49
%51 = OpLoad  %7  %50
%53 = OpCompositeConstruct  %52  %51 %51 %51 %51
%54 = OpConvertSToF  %12  %53
OpStore %25 %54
OpReturn
OpFunctionEnd