---
source: tests/snapshots.rs
expression: dis
---
; SPIR-V
; Version: 1.0
; Generator: rspirv
; Bound: 286
OpCapability Shader
%1 = OpExtInstImport "GLSL.std.450"
OpMemoryModel Logical GLSL450
OpEntryPoint GLCompute %29 "main" %36
OpExecutionMode %29 LocalSize 64 1 1
OpSource GLSL 450
OpName %3 "NUM_PARTICLES"
OpName %15 "vPos"
OpName %18 "vVel"
OpName %19 "cMass"
OpName %20 "cVel"
OpName %21 "colVel"
OpName %22 "cMassCount"
OpName %24 "cVelCount"
OpName %25 "pos"
OpName %26 "vel"
OpName %27 "i"
OpName %29 "main"
OpName %36 "gl_GlobalInvocationID"
OpName %44 "Particle"
OpMemberName %44 0 "pos"
OpMemberName %44 1 "vel"
OpName %48 "Particles"
OpMemberName %48 0 "particles"
OpName %49 "particlesSrc"
OpName %118 "SimParams"
OpMemberName %118 0 "deltaT"
OpMemberName %118 1 "rule1Distance"
OpMemberName %118 2 "rule2Distance"
OpMemberName %118 3 "rule3Distance"
OpMemberName %118 4 "rule1Scale"
OpMemberName %118 5 "rule2Scale"
OpMemberName %118 6 "rule3Scale"
OpName %119 "params"
OpName %262 "particlesDst"
OpName %29 "main"
OpDecorate %36 BuiltIn GlobalInvocationId
OpMemberDecorate %44 0 Offset 0
OpMemberDecorate %44 1 Offset 8
OpDecorate %46 ArrayStride 16
OpDecorate %48 BufferBlock
OpMemberDecorate %48 0 Offset 0
OpDecorate %49 NonWritable
OpDecorate %49 DescriptorSet 0
OpDecorate %49 Binding 1
OpDecorate %118 Block
OpMemberDecorate %118 0 Offset 0
OpMemberDecorate %118 1 Offset 4
OpMemberDecorate %118 2 Offset 8
OpMemberDecorate %118 3 Offset 12
OpMemberDecorate %118 4 Offset 16
OpMemberDecorate %118 5 Offset 20
OpMemberDecorate %118 6 Offset 24
OpDecorate %119 DescriptorSet 0
OpDecorate %119 Binding 0
OpDecorate %262 DescriptorSet 0
OpDecorate %262 Binding 2
%2 = OpTypeVoid
%4 = OpTypeInt 32 1
%3 = OpConstant  %4  1500
%6 = OpTypeFloat 32
%5 = OpConstant  %6  0.0
%7 = OpConstant  %4  0
%9 = OpTypeInt 32 0
%8 = OpConstant  %9  0
%10 = OpConstant  %4  1
%11 = OpConstant  %9  1
%12 = OpConstant  %6  1.0
%13 = OpConstant  %6  0.1
%14 = OpConstant  %6  -1.0
%16 = OpTypeVector %6 2
%17 = OpTypePointer Function %16
%23 = OpTypePointer Function %4
%28 = OpTypePointer Function %9
%30 = OpTypeFunction %2
%32 = OpTypeBool
%35 = OpTypeVector %9 3
%37 = OpTypePointer Input %35
%36 = OpVariable  %37  Input
%38 = OpTypePointer Input %9
%39 = OpConstant  %4  0
%44 = OpTypeStruct %16 %16
%46 = OpTypeRuntimeArray %44
%48 = OpTypeStruct %46
%50 = OpTypePointer Uniform %48
%49 = OpVariable  %50  Uniform
%51 = OpTypePointer Uniform %46
%52 = OpConstant  %4  0
%54 = OpTypePointer Input %9
%55 = OpConstant  %4  0
%57 = OpTypePointer Uniform %44
%58 = OpTypePointer Uniform %16
%59 = OpConstant  %4  0
%64 = OpTypePointer Uniform %46
%65 = OpConstant  %4  0
%67 = OpTypePointer Input %9
%68 = OpConstant  %4  0
%70 = OpTypePointer Uniform %44
%71 = OpTypePointer Uniform %16
%72 = OpConstant  %4  1
%88 = OpTypePointer Input %9
%89 = OpConstant  %4  0
%96 = OpTypePointer Uniform %46
%97 = OpConstant  %4  0
%99 = OpTypePointer Uniform %44
%100 = OpTypePointer Uniform %16
%101 = OpConstant  %4  0
%106 = OpTypePointer Uniform %46
%107 = OpConstant  %4  0
%109 = OpTypePointer Uniform %44
%110 = OpTypePointer Uniform %16
%111 = OpConstant  %4  1
%118 = OpTypeStruct %6 %6 %6 %6 %6 %6 %6
%120 = OpTypePointer Uniform %118
%119 = OpVariable  %120  Uniform
%121 = OpTypePointer Uniform %6
%122 = OpConstant  %4  1
%136 = OpTypePointer Uniform %6
%137 = OpConstant  %4  2
%151 = OpTypePointer Uniform %6
%152 = OpConstant  %4  3
%190 = OpTypePointer Uniform %6
%191 = OpConstant  %4  4
%196 = OpTypePointer Uniform %6
%197 = OpConstant  %4  5
%202 = OpTypePointer Uniform %6
%203 = OpConstant  %4  6
%216 = OpTypePointer Uniform %6
%217 = OpConstant  %4  0
%221 = OpTypePointer Function %6
%222 = OpConstant  %4  0
%227 = OpTypePointer Function %6
%228 = OpConstant  %4  0
%231 = OpTypePointer Function %6
%232 = OpConstant  %4  0
%237 = OpTypePointer Function %6
%238 = OpConstant  %4  0
%241 = OpTypePointer Function %6
%242 = OpConstant  %4  1
%247 = OpTypePointer Function %6
%248 = OpConstant  %4  1
%251 = OpTypePointer Function %6
%252 = OpConstant  %4  1
%257 = OpTypePointer Function %6
%258 = OpConstant  %4  1
%262 = OpVariable  %50  Uniform
%263 = OpTypePointer Uniform %46
%264 = OpConstant  %4  0
%266 = OpTypePointer Input %9
%267 = OpConstant  %4  0
%269 = OpTypePointer Uniform %44
%270 = OpTypePointer Uniform %16
%271 = OpConstant  %4  0
%276 = OpTypePointer Uniform %46
%277 = OpConstant  %4  0
%279 = OpTypePointer Input %9
%280 = OpConstant  %4  0
%282 = OpTypePointer Uniform %44
%283 = OpTypePointer Uniform %16
%284 = OpConstant  %4  1
%29 = OpFunction  %2  None %30
%31 = OpLabel
%27 = OpVariable  %28  Function %8
%24 = OpVariable  %23  Function %7
%20 = OpVariable  %17  Function
%15 = OpVariable  %17  Function
%25 = OpVariable  %17  Function
%21 = OpVariable  %17  Function
%18 = OpVariable  %17  Function
%26 = OpVariable  %17  Function
%22 = OpVariable  %23  Function %7
%19 = OpVariable  %17  Function
%34 = OpAccessChain  %38  %36 %39
%40 = OpLoad  %9  %34
%33 = OpUGreaterThanEqual  %32  %40 %3
OpSelectionMerge %41 None
OpBranchConditional %33 %42 %41
%42 = OpLabel
OpReturn
%41 = OpLabel
%47 = OpAccessChain  %51  %49 %52
%53 = OpAccessChain  %54  %36 %55
%56 = OpLoad  %9  %53
%45 = OpAccessChain  %57  %47 %56
%43 = OpAccessChain  %58  %45 %59
%60 = OpLoad  %16  %43
OpStore %15 %60
%63 = OpAccessChain  %64  %49 %65
%66 = OpAccessChain  %67  %36 %68
%69 = OpLoad  %9  %66
%62 = OpAccessChain  %70  %63 %69
%61 = OpAccessChain  %71  %62 %72
%73 = OpLoad  %16  %61
OpStore %18 %73
%74 = OpCompositeConstruct  %16  %5 %5
OpStore %19 %74
%75 = OpCompositeConstruct  %16  %5 %5
OpStore %20 %75
%76 = OpCompositeConstruct  %16  %5 %5
OpStore %21 %76
OpBranch %77
%77 = OpLabel
OpLoopMerge %78 %80 None
OpBranch %79
%79 = OpLabel
%82 = OpLoad  %9  %27
%81 = OpUGreaterThanEqual  %32  %82 %3
OpSelectionMerge %83 None
OpBranchConditional %81 %84 %83
%84 = OpLabel
OpBranch %78
%83 = OpLabel
%86 = OpLoad  %9  %27
%87 = OpAccessChain  %88  %36 %89
%90 = OpLoad  %9  %87
%85 = OpIEqual  %32  %86 %90
OpSelectionMerge %91 None
OpBranchConditional %85 %92 %91
%92 = OpLabel
OpBranch %80
%91 = OpLabel
%95 = OpAccessChain  %96  %49 %97
%98 = OpLoad  %9  %27
%94 = OpAccessChain  %99  %95 %98
%93 = OpAccessChain  %100  %94 %101
%102 = OpLoad  %16  %93
OpStore %25 %102
%105 = OpAccessChain  %106  %49 %107
%108 = OpLoad  %9  %27
%104 = OpAccessChain  %109  %105 %108
%103 = OpAccessChain  %110  %104 %111
%112 = OpLoad  %16  %103
OpStore %26 %112
%114 = OpLoad  %16  %25
%115 = OpLoad  %16  %15
%116 = OpExtInst  %6  %1 Distance %114 %115
%117 = OpAccessChain  %121  %119 %122
%123 = OpLoad  %6  %117
%113 = OpFOrdLessThan  %32  %116 %123
OpSelectionMerge %124 None
OpBranchConditional %113 %125 %124
%125 = OpLabel
%127 = OpLoad  %16  %19
%128 = OpLoad  %16  %25
%126 = OpFAdd  %16  %127 %128
OpStore %19 %126
%130 = OpLoad  %4  %22
%129 = OpIAdd  %4  %130 %10
OpStore %22 %129
OpBranch %124
%124 = OpLabel
%132 = OpLoad  %16  %25
%133 = OpLoad  %16  %15
%134 = OpExtInst  %6  %1 Distance %132 %133
%135 = OpAccessChain  %136  %119 %137
%138 = OpLoad  %6  %135
%131 = OpFOrdLessThan  %32  %134 %138
OpSelectionMerge %139 None
OpBranchConditional %131 %140 %139
%140 = OpLabel
%142 = OpLoad  %16  %21
%144 = OpLoad  %16  %25
%145 = OpLoad  %16  %15
%143 = OpFSub  %16  %144 %145
%141 = OpFSub  %16  %142 %143
OpStore %21 %141
OpBranch %139
%139 = OpLabel
%147 = OpLoad  %16  %25
%148 = OpLoad  %16  %15
%149 = OpExtInst  %6  %1 Distance %147 %148
%150 = OpAccessChain  %151  %119 %152
%153 = OpLoad  %6  %150
%146 = OpFOrdLessThan  %32  %149 %153
OpSelectionMerge %154 None
OpBranchConditional %146 %155 %154
%155 = OpLabel
%157 = OpLoad  %16  %20
%158 = OpLoad  %16  %26
%156 = OpFAdd  %16  %157 %158
OpStore %20 %156
%160 = OpLoad  %4  %24
%159 = OpIAdd  %4  %160 %10
OpStore %24 %159
OpBranch %154
%154 = OpLabel
OpBranch %80
%80 = OpLabel
%162 = OpLoad  %9  %27
%161 = OpIAdd  %9  %162 %11
OpStore %27 %161
OpBranch %77
%78 = OpLabel
%164 = OpLoad  %4  %22
%163 = OpSGreaterThan  %32  %164 %7
OpSelectionMerge %165 None
OpBranchConditional %163 %166 %165
%166 = OpLabel
%169 = OpLoad  %16  %19
%171 = OpLoad  %4  %22
%172 = OpConvertSToF  %6  %171
%170 = OpFDiv  %6  %12 %172
%168 = OpVectorTimesScalar  %16  %169 %170
%173 = OpLoad  %16  %15
%167 = OpFSub  %16  %168 %173
OpStore %19 %167
OpBranch %165
%165 = OpLabel
%175 = OpLoad  %4  %24
%174 = OpSGreaterThan  %32  %175 %7
OpSelectionMerge %176 None
OpBranchConditional %174 %177 %176
%177 = OpLabel
%179 = OpLoad  %16  %20
%181 = OpLoad  %4  %24
%182 = OpConvertSToF  %6  %181
%180 = OpFDiv  %6  %12 %182
%178 = OpVectorTimesScalar  %16  %179 %180
OpStore %20 %178
OpBranch %176
%176 = OpLabel
%186 = OpLoad  %16  %18
%188 = OpLoad  %16  %19
%189 = OpAccessChain  %190  %119 %191
%192 = OpLoad  %6  %189
%187 = OpVectorTimesScalar  %16  %188 %192
%185 = OpFAdd  %16  %186 %187
%194 = OpLoad  %16  %21
%195 = OpAccessChain  %196  %119 %197
%198 = OpLoad  %6  %195
%193 = OpVectorTimesScalar  %16  %194 %198
%184 = OpFAdd  %16  %185 %193
%200 = OpLoad  %16  %20
%201 = OpAccessChain  %202  %119 %203
%204 = OpLoad  %6  %201
%199 = OpVectorTimesScalar  %16  %200 %204
%183 = OpFAdd  %16  %184 %199
OpStore %18 %183
%206 = OpLoad  %16  %18
%207 = OpExtInst  %16  %1 Normalize %206
%208 = OpLoad  %16  %18
%209 = OpExtInst  %6  %1 Length %208
%210 = OpExtInst  %6  %1 FClamp %209 %5 %13
%205 = OpVectorTimesScalar  %16  %207 %210
OpStore %18 %205
%212 = OpLoad  %16  %15
%214 = OpLoad  %16  %18
%215 = OpAccessChain  %216  %119 %217
%218 = OpLoad  %6  %215
%213 = OpVectorTimesScalar  %16  %214 %218
%211 = OpFAdd  %16  %212 %213
OpStore %15 %211
%220 = OpAccessChain  %221  %15 %222
%223 = OpLoad  %6  %220
%219 = OpFOrdLessThan  %32  %223 %14
OpSelectionMerge %224 None
OpBranchConditional %219 %225 %224
%225 = OpLabel
%226 = OpAccessChain  %227  %15 %228
OpStore %226 %12
OpBranch %224
%224 = OpLabel
%230 = OpAccessChain  %231  %15 %232
%233 = OpLoad  %6  %230
%229 = OpFOrdGreaterThan  %32  %233 %12
OpSelectionMerge %234 None
OpBranchConditional %229 %235 %234
%235 = OpLabel
%236 = OpAccessChain  %237  %15 %238
OpStore %236 %14
OpBranch %234
%234 = OpLabel
%240 = OpAccessChain  %241  %15 %242
%243 = OpLoad  %6  %240
%239 = OpFOrdLessThan  %32  %243 %14
OpSelectionMerge %244 None
OpBranchConditional %239 %245 %244
%245 = OpLabel
%246 = OpAccessChain  %247  %15 %248
OpStore %246 %12
OpBranch %244
%244 = OpLabel
%250 = OpAccessChain  %251  %15 %252
%253 = OpLoad  %6  %250
%249 = OpFOrdGreaterThan  %32  %253 %12
OpSelectionMerge %254 None
OpBranchConditional %249 %255 %254
%255 = OpLabel
%256 = OpAccessChain  %257  %15 %258
OpStore %256 %14
OpBranch %254
%254 = OpLabel
%261 = OpAccessChain  %263  %262 %264
%265 = OpAccessChain  %266  %36 %267
%268 = OpLoad  %9  %265
%260 = OpAccessChain  %269  %261 %268
%259 = OpAccessChain  %270  %260 %271
%272 = OpLoad  %16  %15
OpStore %259 %272
%275 = OpAccessChain  %276  %262 %277
%278 = OpAccessChain  %279  %36 %280
%281 = OpLoad  %9  %278
%274 = OpAccessChain  %282  %275 %281
%273 = OpAccessChain  %283  %274 %284
%285 = OpLoad  %16  %18
OpStore %273 %285
OpReturn
OpFunctionEnd
